name = "herawalla-email-atelier"
account_id = "e5d9a808708aaa27a77d1320c17227e6"
main = "src/index.ts"
compatibility_date = "2025-01-11"
routes = [
  { pattern = "admin-api.heerawalla.com", zone_name = "heerawalla.com", custom_domain = true }
]

[observability]
enabled = false
head_sampling_rate = 1

[observability.logs]
enabled = true
head_sampling_rate = 1
persist = true
invocation_logs = true

[observability.traces]
enabled = false
persist = true
head_sampling_rate = 1

[vars]
FORWARD_TO = "atelier.heerawalla@gmail.com"
FORWARD_REJECTS_TO = "noreply.heerawalla@gmail.com"
REPLY_TO_ADDRESS = "relay-reply@heerawalla.com"
SEND_ACK = "true"
SEND_REJECT = "false"
SEND_SUBMIT = "true"
ACK_MODE = "cron"
SUBSCRIBE_TO = "noreply.heerawalla@gmail.com"
ATELIER_SENDERS = "atelier.heerawalla@gmail.com"
CATALOG_SHEET_ID = "1oFrJpxZmL94GeNXDK95OHHcCqG2zOiQuhOtOZ1y5i6o"
CATALOG_PRODUCTS_GID = "1604026114"
CATALOG_INSPIRATIONS_GID = "491031140"
CATALOG_SITE_CONFIG_GID = "30223103"
CATALOG_MEDIA_LIBRARY_GID = "460724673"
CATALOG_PRODUCT_MEDIA_GID = "1719145705"
CATALOG_INSPIRATION_MEDIA_GID = "1780608024"
CATALOG_PRODUCTS_SHEET_NAME = "products"
CATALOG_INSPIRATIONS_SHEET_NAME = "inspirations"
CATALOG_SITE_CONFIG_SHEET_NAME = "site_config"
MEDIA_LIBRARY_SHEET_NAME = "media_library"
PRODUCT_MEDIA_SHEET_NAME = "product_media"
INSPIRATION_MEDIA_SHEET_NAME = "inspiration_media"
MEDIA_PUBLIC_BASE_URL = "https://pub-0758b0d6fde14b47943c5b58be0ca424.r2.dev"
MEDIA_PUBLIC_BASE_URL_LOCAL = "http://localhost:8787"
ORDER_SHEET_ID = "1Y63fs2Xoj6xGV9OXx8Ywnx7CplZBGxfQTwzgK2u1dnU"
ORDER_SHEET_NAME = "orders"
ORDER_DETAILS_SHEET_ID = "1LzFxg4EWm0WiW--xLnKuTEl97vLbHqK0nOcA2MZQMfk"
ORDER_DETAILS_SHEET_NAME = "order_details"
QUOTE_SHEET_ID = "19d7IhrZOx8Revel3UnuCL7RlAPVlgTcJUpPR-4m6dWg"
QUOTE_SHEET_NAME = "quotes"
PRICE_CHART_SHEET_ID = "10udH8zRTWKynyymkm1BkXTC1GxHeaT05XYi6n9NJ1gw"
PRICE_CHART_SHEET_NAME = "price_chart"
COST_CHART_SHEET_ID = "10udH8zRTWKynyymkm1BkXTC1GxHeaT05XYi6n9NJ1gw"
COST_CHART_SHEET_NAME = "cost_chart"
DIAMOND_PRICE_CHART_SHEET_ID = "10udH8zRTWKynyymkm1BkXTC1GxHeaT05XYi6n9NJ1gw"
DIAMOND_PRICE_CHART_SHEET_NAME = "diamonds_price_chart"
CONTACTS_SHEET_ID = "16vRqJ_2Gpei9U10E1PgdvbcMeH4AtSSyvrje-x-DClc"
CONTACTS_SHEET_NAME = "contacts"
CUSTOMER_TICKETS_SHEET_ID = "1qXUrHxPnF5J-g84XmOUnoIRyWGW_0Jo-inD1UpAS3s0"
CUSTOMER_TICKETS_SHEET_NAME = "customer_tickets"
UNIFIED_CONTACTS_SHEET_ID = "16vRqJ_2Gpei9U10E1PgdvbcMeH4AtSSyvrje-x-DClc"
UNIFIED_CONTACTS_SHEET_NAME = "contacts"
ADMIN_ALLOWLIST = "admin@heerawalla.com,arifmanasiya@gmail.com"
OPS_ALLOWLIST = "production@heerawalla.com"
VIEWER_ALLOWLIST = ""
ORDER_CONFIRMATION_PAGE_URL = "https://www.heerawalla.com/order_confirmation"
ORDER_CONFIRMATION_PAYMENT_URL = "https://www.heerawalla.com/pay?requestId={requestId}&token={token}"
ORDER_CANCEL_PAGE_URL = "https://www.heerawalla.com/order_cancel"
ORDER_AUTHENTICITY_PAGE_URL = "https://www.heerawalla.com/authenticity"
QUOTE_PAGE_URL = "https://www.heerawalla.com/quote"
QUOTE_PAYMENT_URL = "https://www.heerawalla.com/pay?requestId={requestId}&token={token}&metal={metal}&option={option}"
STATUS_EMAIL_INTERVAL_HOURS = "48"
SEND_STATUS_UPDATES = "true"

# Secrets are configured via `wrangler secret put` or in the Cloudflare dashboard.

[triggers]
crons = ["*/15 * * * *"]

[[send_email]]
name = "SEND_EMAIL"
allowed_sender_addresses = ["atelier@heerawalla.com", "no-reply@heerawalla.com"]

[[kv_namespaces]]
binding = "HEERAWALLA_ACKS"
id = "d699d7256dfa42a79c7089d4e49e4137"
preview_id = "029212dfa5734afbb29357b2334817e1"

[[r2_buckets]]
binding = "MEDIA_BUCKET"
bucket_name = "heerawalla-products"
preview_bucket_name = "heerawalla-products"

[[d1_databases]]
binding = "DB"
database_name = "heerawalla"
database_id = "6b979eaa-8ed9-457e-8df5-e1b1c9f7e5e7"
