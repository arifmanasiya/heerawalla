---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { loadSiteConfig, getConfigValue } from '../lib/config';

const config = await loadSiteConfig();
const contactEmail = getConfigValue(config, 'contact_email', 'support@heerawalla.com');
---

<BaseLayout title="Contact | Heerawalla" description="Reach Heerawalla client care for bespoke projects or purchase inquiries.">
  <Header />
  <main class="container py-12 space-y-8">
    <div class="space-y-2">
      <p class="text-xs uppercase tracking-[0.18em] text-slate-500">Contact</p>
      <h1 class="text-3xl font-semibold tracking-tight">We're here to help</h1>
      <p class="text-sm text-slate-500 max-w-2xl">
        Send us a note about a piece you love, a bespoke request, or service appointment. We respond within one business day.
      </p>
    </div>

    <form class="card p-6 space-y-4" action={`mailto:${contactEmail}`} method="post" enctype="text/plain">
      <div class="grid gap-4 md:grid-cols-2">
        <label class="text-sm space-y-1">
          <span class="text-slate-600">Name</span>
          <input required name="name" class="w-full rounded-lg border border-slate-200 px-3 py-2" />
        </label>
        <label class="text-sm space-y-1">
          <span class="text-slate-600">Email</span>
          <input required type="email" name="email" class="w-full rounded-lg border border-slate-200 px-3 py-2" />
        </label>
      </div>
      <label class="text-sm space-y-1">
        <span class="text-slate-600">Message</span>
        <textarea required name="message" rows="5" class="w-full rounded-lg border border-slate-200 px-3 py-2"></textarea>
      </label>
      <div class="flex gap-3">
        <button type="submit" class="btn btn-primary">Send inquiry</button>
        <a class="btn btn-ghost" href={`mailto:${contactEmail}`}>Email directly</a>
      </div>
      <p class="text-xs text-slate-500">
        Future-ready: this form can later POST to /api/inquiry (Netlify function) using the same fields.
      </p>
    </form>
  </main>
  <Footer />
</BaseLayout>
